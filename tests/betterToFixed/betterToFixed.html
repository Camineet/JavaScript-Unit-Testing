<script src="../../simpletest.js"></script>
<script>

    function betterToFixed(number, precision) {

        numberString = number.toString(); //  '1.005'
        numberArray = Array.from(numberString);
        if (numberArray[0] === '0') {
            numberArray.shift();
        }
        numberArrayLength = numberArray.length;
        indexOfDecimel = numberArray.indexOf('.');
        numberArray.splice(indexOfDecimel, 1);
        numberArray.splice(numberArrayLength - 2, 0, '.');
        numberString = numberArray.join('');
        number = Math.round(Number(numberString));
        numberArray = Array.from(number.toString());
        numberArray.splice(indexOfDecimel, 0, '.');

        number = numberArray.join('');
        number = Number(number);
        return number;

    }


    tests({

        'it should correctly round numbers to a specified number of decimel places': function () {
            var testNumber = 1.005;
            toFixedNumber = betterToFixed(testNumber, 2);
            eq(toFixedNumber === 1.01, true);
        },

        'it should also work for 0.615': function () {
            var testNumber = 0.615;
            toFixedNumber = betterToFixed(testNumber, 2);
            eq(toFixedNumber === .62, true);
        },
        'it should also work for 10.235': function () {
            var testNumber = 10.235;
            toFixedNumber = betterToFixed(testNumber, 2);
            eq(toFixedNumber === 10.24, true);
        }

    });



</script>